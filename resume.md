---
title: "職務経歴書"
date: 2019-07-29T12:00:00+09:00
layout: default
---

## 個人データ
- 氏名: 久慈大介
- Github: github.com/dkuji
- Qiita: https://qiita.com/dkuji

## 職務経歴（概要）
### サーバ、ネットワークインフラ開発
- オンプレ
  - サーバ、ネットワーク、ストレージ合わせて5年以上
- 仮想化
  - VMware, KVM合わせて3年以上
- パブリッククラウド
   - AWS, GCP合わせて3年以上


## プログラミングスキル
### shell(bash)
サーバの構築、運用で日常的に使用
### Pyhton3
LambdaやCloud Functionsで使用する100行程度の簡単なスクリプトの経験
### Ruby(2.4, 2.5, 2.6)
LambdaやCloud Functionsで使用する100行程度の簡単なスクリプトの経験

## パブリッククラウドスキル
### AWS
3年以上の実務経験
### GCP
- 2年以上の実務経験

## その他ツール、フレームワークスキル
### Terraform
AWS、GCPの管理で日常的に使用。2年以上の経験。

### Ansible
サーバのプロビジョニングで日常的に使用。3年以上の経験。

### kubernetes
- 監視システムの基盤として構築、1年半以上の運用経験。
- 新規プロジェクトの基盤として採用しstaging環境の構築経験。

### severspec
Ansibleのテストフレームワークとして1年以上の経験。

### VMware ESXi
3年以上の経験

## 職務経歴 (現職)
SATT AIラボ株式会社(旧株式会社マナボ) (2017/09〜)
### プロダクト開発
- manabo
  - https://manabo.com
  - インフラ開発、運用、保守、監視
- 新規プロジェクトの基盤開発
  - インフラ開発

### 時期
2017/09 - 現在

### 担当フェーズ
- 設計、構築、テスト、リリース、運用監視
- 新規プロジェクトの基盤開発

### サーバ種別
- Webサーバ
- アプリケーションサーバ
- DBサーバ
- キャッシュサーバ
- バッチサーバ
- 監視サーバ

### 使用したSaaS
- GCP
- AWS
- SendGrid
- Twilio
- GitHub
- CircleCI

### チーム構成
20名以内

### スマホ家庭教師manaboの開発、運用
インフラエンジニアとして24時間いつでも質問できる勉強アプリ「スマホ家庭教師マナボ」のインフラ基盤、またその社内システムの開発、運用保守を行っていました。

ジョインする前はインフラ専任のエンジニアはおらず、インフラの整備が追いついていない状態であり以下のような課題がありました。

#### ジョイン前の課題
- サーバの設定変更はSSHでログインして直接行う。コード化されていないため確認するにはサーバで直接見るしかない。
- GCPの構成変更はウェブコンソールから行う。コード化されていないため構成はウェブコンソールから確認するしかない。
- データベースがシングル構成でSPOFになっていた。
- Redisがシングル構成でSPOFになっていた。
- アプリケーションサーバがシングル構成でSPOFになっていた。
- データベースへの接続アカウントに共有アカウント(フルパーミッション)が使用されていてアクセス履歴がわからない、またデータ削除等の誤操作による事故の可能性があった。
- サーバ、アプリケーションの監視システムがなくリソース異常、システム障害を検知できない。
- インフラのテスト環境がない
- GCPのVMがレガシーネットワークで稼働しており、新機能やセキュリティ機能に対応しておらずサーバが陳腐化する恐れがあった。
- development、staging、production環境が1つのGCPプロジェクト上で稼働しており、誤操作や不適切な権限による事故が起こる可能性があった。

そして上記課題について、以下のように改善を行いました。

#### ジョイン後に改善したこと
- OS、ミドルウェアの管理に`Ansible`を採用。また既存のサーバの情報をすべてコードに起こしブラックボックスを排除し、Playbookを実行するだけでサーバを再現できる仕組みを構築。
- GCP、AWSの構成管理に`Terraform`を採用。既存の構成をインポートしコード可。
- インフラのコード管理にGitHubのリポジトリを採用。
- `Ansible` + `Terraform` + `CircleCI`でCI環境を構築し、GitHubへのプッシュ毎にコンテナ上ではなく実際にVMインスタンスを構築し自動テストする仕組みを構築。
- データベースを`Google CloudSQL`に移行しSPOFを排除。
- Redisを`Google MemoryStore`に移行しSPOFを排除。
- アプリケーションサーバを冗長構成にしSPOFを排除。
- `Prometheus` + `Grafana` + `Alertmanager`を使用した監視システムを構築しリソース、システム障害を検知、パフォーマンスを監視する仕組みを構築。基盤には運用の負荷を軽減するため、また新技術へのチャレンジのため`kubernetes`を使用した`GKE`を採用。
- データベースのアカウントで共有アカウントを廃止し、ユーザ毎の個別アカウントに変更。またユーザ管理は`Ansible`で行い、アカウント発行時に各ユーザに自動でアカウント情報を通知する仕組みを構築。
- GCPのVMをレガシーネットワークからVPCネットワークに移行。
- GCPプロジェクトを環境毎に分離。

### 新規プロジェクトの基盤開発
新規プロジェクトのインフラ基盤としてGKEを採用し、`minikube`, `Helm`を使用して開発環境、staging環境を構築。

### このプロジェクトで学んだこと
- GCPについて、基本的な使い方や他のパブリッククラウドとの違いや何が得意なのかといったことを学ぶことが出来ました。
- Infrastructure as a codeを実践することでCI/CDの重要さを学ぶことが出来ました。
- スタートアップということもあり技術については使いたいものは比較的自由に使える環境でしたので、積極的に新しい技術を試すことが出来ました。
- 使いたい技術よりも、それがサービスに対してどのような価値を与えられるのかを考えなければいけないということを改めて学ぶことが出来ました。
- ITシステム、テクノロジーは最終的にはビジネスとしてどれだけ価値を高め、利益を得られるのかを考えて技術選定や、アーキテクチャを考えなければいけないということを改めて学ぶことが出来ました。

## 職務経歴 (前職以前)
[職務経歴 (前職以前)](https://dkuji.github.io/resume_previous_company)
